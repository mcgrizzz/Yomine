name: Auto Release Notes

on:
  release:
    types: [published]

permissions:
  contents: write

jobs:
  generate-release-notes:
    runs-on: ubuntu-latest
    steps:      
      - name: Checkout repository
        uses: actions/checkout@v4
        with:
          fetch-depth: 0
          
      - name: Update Release Notes
        uses: actions/github-script@v7
        with:
          script: |
            const { generateReleaseNotes } = require('./.github/scripts/generate-release-notes.js');
            await generateReleaseNotes(github, context);
